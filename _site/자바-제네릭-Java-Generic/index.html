<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Ohjongsung's Dev Story" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Ohjongsung's Dev Story" /> <title> 자바 제네릭 Java Generic - Ohjongsung's Dev Story </title> <link rel="alternate" href="http://localhost:4000/%EC%9E%90%EB%B0%94-%EC%A0%9C%EB%84%A4%EB%A6%AD-Java-Generic/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/%EC%9E%90%EB%B0%94-%EC%A0%9C%EB%84%A4%EB%A6%AD-Java-Generic/" /> <meta name="description" content="개발 블로그입니다. @github." /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="자바 제네릭 Java Generic | Ohjongsung's Dev Story" /> <meta property="og:title" content="자바 제네릭 Java Generic | Ohjongsung's Dev Story" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/%EC%9E%90%EB%B0%94-%EC%A0%9C%EB%84%A4%EB%A6%AD-Java-Generic/" /> <meta property="og:description" content="개발 블로그입니다. @github." /> <meta property="og:image" content="http://localhost:4000/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="자바 제네릭 Java Generic | " /> <meta name="twitter:url" content="http://localhost:4000/%EC%9E%90%EB%B0%94-%EC%A0%9C%EB%84%A4%EB%A6%AD-Java-Generic/" /> <meta name="twitter:site" content="@" /> <meta name="twitter:creator" content="@" /> <meta name="twitter:description" content="개발 블로그입니다. @github." /> <meta name="twitter:image" content="http://localhost:4000/assets/img/ogp.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Ohjongsung's Dev Story" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="light" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/archive/">archive</a><a class="menu-link" href="https://github.com/ohjongsung" target="_blank" rel="noopener" >github</a ><a class="menu-link rss" href="/feed.xml"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 512 512" fill="#ED812E" > <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </svg> </a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <h1 class="header-title" itemprop="headline">자바 제네릭 Java Generic</h1> <div class="post-meta"> <time datetime="2018-03-31T00:00:00+09:00" itemprop="datePublished"> 2018-03-31 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Ohjongsung's Dev Story</span> </span> <time hidden datetime="" itemprop="dateModified"> Mar 31, 2018 </time> <span hidden itemprop="publisher" itemtype="Person">Ohjongsung's Dev Story</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><p>모던 자바는 자바5 이후를 말한다. 그 대표적인 특징은 세 가지로 애노테이션, 람다 그리고 제네릭이다. 이번 글로 알게 모르게 사용하고 있는 제네릭에 대해서 정리해보자.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>모던 자바는 자바5 이후를 말한다. 그 대표적인 특징은 세 가지로 애노테이션, 람다 그리고 제네릭이다. 이번 글로 알게 모르게 사용하고 있는 제네릭에 대해서 정리해보자.</p> <h2 id="사전-정의"> <a href="#사전-정의" class="anchor-head"></a> 사전 정의 </h2> <p>generic</p> <blockquote> <ol> <li>formal shared by, typical of, or relating to a whole group of similar things, rather than to any particular thing. ex) The new range of engines all had a generic problem with their fan blades.</li> <li>generic drugs or other products do not have a trademark and are sold without the name of the company that produced them.</li> </ol> </blockquote> <p>제네릭 사전 정의이다. 첫번째는 ‘특정 사물이 아닌 비슷한 사물 모두와 관련 있거나 전형적으로, 공식적으로 공유되는’ 을 뜻한다. 쉽게 말해서 ‘통칭해서/포괄적으로’ 를 뜻한다. 두번째 정의는 ‘상품을 생산 한 회사 이름없이 또는 일반 명사으로 판매되는’ 을 뜻한다. 노브랜드 또는 대일밴드, 봉고차, 노트북 등을 떠올리면 이해하기 쉽다. 방금 언급한 세 가지 제품은 특정 회사 제품 명이지만, 지금은 그냥 그 제품군 전체를 통칭해서 부르는 일반 명사이다.</p> <h2 id="자바에서-제네릭은-어떤-뜻으로-사용되는-것일까-제네릭-클래스-메서드-인터페이스를-어떻게-이해하면-좋을까"> <a href="#자바에서-제네릭은-어떤-뜻으로-사용되는-것일까-제네릭-클래스-메서드-인터페이스를-어떻게-이해하면-좋을까" class="anchor-head"></a> 자바에서 제네릭은 어떤 뜻으로 사용되는 것일까? 제네릭 클래스, 메서드, 인터페이스를 어떻게 이해하면 좋을까? </h2> <p>첫번째 사전 정의로 해석해서 포괄적으로 클래스, 통칭 메서드라는 단어의 의미를 생각해보자. 뭔가 이상하다. 클래스, 메서드는 이미 우리가 통칭해서(포괄적으로) 사용하는 단어이다. 따라서 자바에서 통칭한(포괄적인) 것은 클래스나 메서드가 아닌 타입이다. 즉, 특정 타입( JindoDog)이 아닌 그와 비슷한 타입(&lt;T extends/super JindoDog&gt;)이거나 전형적으로 또는 공식적으로 의미되는(Dog) 것 모두 사용가능한 클래스, 메서드로 이해할 수 있다.</p> <p>두번째 사전 정의는 노브랜드다. 무엇이 노브랜드가 되는지 생각해보면 쉽다. 바로 클래스, 메서드가 다루는 타입이다. 타입을 특정하지 않고 일반 명사(타입)로써 클래스, 메서드를 만드는 것이다. 봉투는 어느 회사의 제품인지 구분하지 않고 봉투라고 부른다. 즉, 노브랜드 봉투가 있다. 여기에 과자를 담으면 과자 봉투고 과일을 담으면 과일 봉투다. 자바에 리스트가 있다. 스트링을 담으면 스트링 리스트이고 인티저를 담으면 인티저 리스트이다. 그러니까 노브랜드(어떤 타입인지 상관하지 않는) 리스트이다.</p> <p>보통 첫번째 사전 정의로 많이 설명하고 있다. 두번째는 억지로 끼워 맞춘 감이 있지만, 따지고 보면 두 가지 정의의 의미가 비슷함을 알 수 있다. 이제까지 제네릭을 사용하면서 어렴풋하게 알고 있던 뜻을 사전 정의로 해석해봤다. 정리하면, 클래스(메서드, 인터페이스)를 선언할 때 사용하는 타입을 특정하지 않고 제네릭 타입으로 선언해서 특정 타입을 파라미터로 받아서 사용할 수 있게 한다. 이런 클래스, 메서드, 인터페이스를 제네릭 클래스, 제네릭 메서드, 제네릭 인터페이스라 한다. <strong>즉, 타입을 파라미터화 한다.</strong></p> <h2 id="제네릭-기본-용법"> <a href="#제네릭-기본-용법" class="anchor-head"></a> 제네릭 기본 용법 </h2> <p>앞선 글에서 클래스, 메서드 그리고 인터페이스까지 제네릭을 사용하는 것은 타입을 파라미터화해서 사용하는 것이라 했다. <T> 를 사용해서 제네릭 클래스, 메서드, 인터페이스를 만든다. 여기서 T 는 Type의 약자를 대문자로 표현한 것인데, 이것은 무엇이 되든 상관없다.</T></p> <h3 id="타입-파라미터의-관례적-명명"> <a href="#타입-파라미터의-관례적-명명" class="anchor-head"></a> 타입 파라미터의 관례적 명명 </h3> <ul> <li>E : Element (자바 컬렉션 프레임워크 소스를 보면 많이 사용되고 있다.)</li> <li>K : Key (Map 선언할 때, 자주 봤다.)</li> <li>N : Number</li> <li>T : Type (기본 값)</li> <li>V : Value (Map 선언할 때, 자주 봤다.)</li> <li>S, U, V etc. : 2nd, 3rd, 4th types (T 외에도 타입 파라미터가 필요할 때)</li> </ul> <h3 id="generic-class"> <a href="#generic-class" class="anchor-head"></a> Generic Class </h3> <p>제네릭 클래스 다음과 같은 의미를 담고 있다.</p> <hr /> <p><strong>이 클래스 인스턴스를 생성하려면 타입 아규먼트를 보내야 해! 전달된 아규먼트로 T를 대체해서 인스턴스가 생성 될거야!</strong></p><hr /> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Generics</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="no">T</span> <span class="n">t</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="no">T</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="no">T</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="generic-class-usage"> <a href="#generic-class-usage" class="anchor-head"></a> Generic Class Usage </h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Generics</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">genercis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Generics</span><span class="o">&lt;&gt;();</span>
<span class="n">generics</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">);</span>
<span class="c1">// list 사용할 때와 비교해보자. 똑같지 않나?</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">strs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
</code></pre></div></div> <h3 id="generic-interface"> <a href="#generic-interface" class="anchor-head"></a> Generic Interface </h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Generic</span><span class="o">&lt;</span><span class="no">T1</span><span class="o">,</span> <span class="no">T2</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="no">T1</span> <span class="nf">doSomething</span><span class="o">(</span><span class="no">T2</span> <span class="n">t</span><span class="o">);</span>
    <span class="no">T2</span> <span class="nf">doSomething2</span><span class="o">(</span><span class="no">T1</span> <span class="n">t</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div> <h3 id="generic-interface-implements"> <a href="#generic-interface-implements" class="anchor-head"></a> Generic Interface Implements </h3> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Comparable 인터페이스를 구현해 봤다면 알 것이다.</span>
<span class="c1">// public interface Comparable&lt;T&gt; {</span>
<span class="c1">//     public int compareTo(T o);</span>
<span class="c1">// }</span>
<span class="kd">class</span> <span class="nc">GenericInterfaceImpl</span> <span class="kd">implements</span> <span class="nc">Generic</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">doSomething</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span> 

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">doSomething2</span><span class="o">(</span><span class="nc">String</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">t</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>제네릭 클래스와는 다르게 인스턴스 생성할 때, 타입 아규먼트를 보내는 것이 아니라 클래스에 인터페이스를 구현할 때 타입 아규먼트를 결정한다.</p> <h3 id="generic-method"> <a href="#generic-method" class="anchor-head"></a> Generic method </h3> <p>메서드 파라미터에 타입 파라미터도 선언되어 있다면, 메서드 리턴 타입 앞에 꼭 제네릭 타입이 선언되어야 한다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">GenericMethod</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kt">int</span> <span class="nf">getListSize</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="no">T</span> <span class="n">t</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">count</span><span class="o">++;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">count</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>어떤 타입의 리스트를 아규먼트로 보내도 동작한다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">strs</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">,</span> <span class="s">"d"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">ints</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">);</span>

<span class="kt">int</span> <span class="n">size1</span> <span class="o">=</span> <span class="nc">GenericMethod</span><span class="o">.</span><span class="na">getListSize</span><span class="o">(</span><span class="n">strs</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">size2</span> <span class="o">=</span> <span class="nc">GenericMethod</span><span class="o">.</span><span class="na">getListSize</span><span class="o">(</span><span class="n">ints</span><span class="o">);</span>
</code></pre></div></div> <h2 id="제네릭을-사용하는-이유"> <a href="#제네릭을-사용하는-이유" class="anchor-head"></a> 제네릭을 사용하는 이유 </h2> <ul> <li>런타임에서 오류를 발견하는 것보다 컴파일 타임에 타입 체크가 가능하게 코드를 작성할 수 있다. (타입 안정성 보장)</li> <li>타입의 종류만 바꾸면 되는 로직일 경우, 코드 재활용이 가능하다. (코드 중복 제거) 제네릭을 사용하지 않고 이 둘을 만족하는 코드는 작성이 불가능하다. 가능한 방법이 있다해도 효율성이 매우 낮을 것이다. 그렇다면 왜 불가능한지 알아보자.</li> </ul> <h3 id="타입-안정성-보장"> <a href="#타입-안정성-보장" class="anchor-head"></a> 타입 안정성 보장 </h3> <p>타입 체크를 컴파일 타임에 할려면 타입을 특정해서 선언하면 된다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">AppleBox</span> <span class="o">{</span>
    
    <span class="nc">Apple</span> <span class="n">item</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">store</span><span class="o">(</span><span class="nc">Apple</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">Apple</span> <span class="nf">getItem</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MelonBox</span> <span class="o">{</span>
    
    <span class="nc">Melon</span> <span class="n">item</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">store</span><span class="o">(</span><span class="nc">Melon</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">Melon</span> <span class="nf">getItem</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>멜론 박스에 사과를 저장하려거나 사과 박스에 멜론을 저장하는 코드를 작성하면 컴파일 타임에 오류를 발견한다.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">AppleBox</span> <span class="n">appleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AppleBox</span><span class="o">();</span>
<span class="n">appleBox</span><span class="o">.</span><span class="na">store</span><span class="o">(</span><span class="k">new</span> <span class="nc">Melon</span><span class="o">());</span> <span class="c1">// 컴파일오류발생</span>

<span class="nc">MelonBox</span> <span class="n">melonBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MelonBox</span><span class="o">():</span>
<span class="n">melonBox</span><span class="o">.</span><span class="na">store</span><span class="o">(</span><span class="k">new</span> <span class="nc">Apple</span><span class="o">());</span> <span class="c1">// 컴파일오류발생</span>
</code></pre></div></div> <p>지금까지 작성한 코드는 컴파일 타임에 오류를 발견하게 되어 타입 안정성을 보장한다. 그러나 코드 중복은 피할 수 없다.</p> <h3 id="코드-중복-제거"> <a href="#코드-중복-제거" class="anchor-head"></a> 코드 중복 제거 </h3> <p>코드 중복 제거를 위해 Box 클래스의 타입을 Object로 바꿔보자.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">ObjectBox</span> <span class="o">{</span>
    
    <span class="nc">Object</span> <span class="n">item</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">store</span><span class="o">(</span><span class="nc">Object</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getItem</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">item</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> <p>Object 타입으로 변경하면서 하나의 클래스로 사과, 멜론 모두 처리가능하게 되었다. 그렇다면 타입 안정성은 컴파일 타임 체크가 가능할까? 개발자가 objectBox1 인스턴스에는 사과를 objectBox2 인스턴스에는 멜론을 넣고 나중에 꺼내 사용하는 코드를 작성하고 있다. 먼저 사과를 꺼내는 코드를 작성하고 그 코드를 복사해서 멜론을 꺼내는 코드로 수정했다. 그런데 실수로 objectBox2 를 objectBox1 으로 변경하는 작업을 빠트렸다. 어떻게 될까?</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">ObjectBox</span> <span class="n">objectBox1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectBox</span><span class="o">();</span>
<span class="n">objectBox1</span><span class="o">.</span><span class="na">store</span><span class="o">(</span><span class="k">new</span> <span class="nc">Melon</span><span class="o">());</span> <span class="c1">// 컴파일통과</span>

<span class="nc">ObjectBox</span> <span class="n">objectBox2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectBox</span><span class="o">():</span>
<span class="n">objectBox2</span><span class="o">.</span><span class="na">store</span><span class="o">(</span><span class="k">new</span> <span class="nc">Apple</span><span class="o">());</span> <span class="c1">// 컴파일통과</span>

<span class="nc">Apple</span> <span class="n">apple</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Apple</span><span class="o">)</span><span class="n">objectBox2</span><span class="o">.</span><span class="na">getItem</span><span class="o">();</span> <span class="c1">// 컴파일통과</span>
<span class="nc">Melon</span> <span class="n">melon</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Melon</span><span class="o">)</span><span class="n">objectBox2</span><span class="o">.</span><span class="na">getItem</span><span class="o">();</span> <span class="c1">// 컴파일통과 런타임오류</span>
</code></pre></div></div> <p>개발자는 이를 컴파일 타임에 알지 못하고 런타임에 발견하게 된다. 즉, 타입 안정성을 보장 할 수 없다. 그래서 타입 안정성과 코드 중복 제거 모두를 할 수 있는 제네릭을 사용한다.</p> <h2 id="reference"> <a href="#reference" class="anchor-head"></a> Reference </h2> <ul> <li>https://www.youtube.com/watch?v=ipT2XG1SHtQ</li> </ul> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/%EC%9E%90%EB%B0%94-%EB%A9%94%EC%9D%B8-%EB%A9%94%EC%86%8C%EB%93%9C/" > <div class="nav-arrow">Previous</div> <span class="post-title">자바 메인 메소드</span> </a> <a class="post-nav-item post-nav-next" href="/Optional-orElse-%EC%99%80-orElseGet-%EC%9D%98-%EC%B0%A8%EC%9D%B4/"> <div class="nav-arrow">Next</div> <span class="post-title">Optional Orelse 와 Orelseget 의 차이</span> </a> </nav> <footer class="footer"> <!--<a class="footer_item" href="/thanks">ack.</a> <a class="footer_item" href="javascript::void(0)">resume</a>--> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy; 2022</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a > theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
